(this["webpackJsonpreact-challenge"]=this["webpackJsonpreact-challenge"]||[]).push([[0],{156:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(30),i=n.n(r),d=n(22),s=n(13),l=n(17),o=n(60),j={},u=[o.a],b=l.d.apply(void 0,[l.a.apply(void 0,u)].concat([]));var h=n(18),O=n(66),m=n(9),p="[CLD] ADD_REMINDER",x="[CLD] DELETE_REMINDER",y="[CLD] EDIT_REMINDER",f=JSON.parse(localStorage.getItem("calendar"))||{},_={calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(m.a)(Object(m.a)({},e),{},Object(h.a)({},t.payload.date,[].concat(Object(O.a)(e[t.payload.date]||[]),[{hour:t.payload.hour,text:t.payload.text,city:t.payload.city,reminderId:t.payload.reminderId,date:t.payload.date}])));case x:var n=Object(m.a)(Object(m.a)({},e),{},Object(h.a)({},t.payload.date,e[t.payload.date].filter((function(e){return e.reminderId!==t.payload.reminderId}))));return localStorage.setItem("calendar",JSON.stringify(n)),n;case y:return Object(m.a)(Object(m.a)({},e),{},Object(h.a)({},t.payload.date,e[t.payload.date].map((function(e){return e.reminderId===t.payload.reminderId?Object.assign(e,Object(m.a)({},t.payload)):e}))));default:return e}}},v=Object(l.c)(_),g=n(65),N=n(3),C=n(6),w=n(61),I=n.n(w),D=n(1);var E=function(e){var t=e.onClick,n=e.children;return Object(D.jsx)("button",{onClick:t,children:n})};var S=function(e){var t=e.limit,n=c.a.useState(0),a=Object(C.a)(n,2),r=a[0],i=a[1],d=!!t&&r===t;return Object(D.jsxs)("div",{className:"counter",children:[Object(D.jsxs)("h3",{children:["Counter: ",r]}),Object(D.jsx)(E,{onClick:function(){d||i(r+1)},children:"Increment"}),Object(D.jsx)(E,{onClick:function(){i(r-1)},children:"Decrement"}),d&&Object(D.jsx)("span",{children:"You reached the limit!"})]})};var k=function(){var e=Object(a.useState)(null),t=Object(C.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){fetch("https://raw.githubusercontent.com/Jobsity/ReactChallenge/main/README.md",{mode:"cors"}).then((function(e){return e.text()})).then((function(e){c("".concat(e,"\n        \n## About Unit Tests:\nThe component below has a suite of tests to that could serve as guidance to unit test the calendar functionality, tests are located at `src/components/Counter.test.jsx`\n        \n"))}))}),[]),Object(D.jsxs)("div",{className:"readme",children:[Object(D.jsx)(I.a,{allowDangerousHtml:!0,children:n}),n&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(S,{limit:3}),Object(D.jsx)("h2",{children:"Use our existing route to create you calendar!"}),Object(D.jsx)(d.b,{to:"/calendar",children:"Go to Calendar page"})]})]})};var R=function(){return Object(D.jsx)("div",{children:Object(D.jsx)(k,{})})},T=(n(156),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),L=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],F=function(e,t,n,a,c){return{type:p,payload:{reminderId:e,hour:t,text:n,city:a,date:c}}},J=function(e,t){return{type:x,payload:{reminderId:e,date:t}}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(C.a)(t,2),c=n[0],r=n[1],i=function(){r(e)},d=function(e){var t=e.target;r(Object(m.a)(Object(m.a)({},c),{},Object(h.a)({},t.name,t.value)))};return[c,d,i]},q=n(43),A=n.n(q),B=n(63),H=function(){var e=Object(B.a)(A.a.mark((function e(t){var n,a,c,r,i,d,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("e3811b5195290d1324b88fb03b393c58"),e.next=4,fetch(n);case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,r=c.weather,i=r[0],d=i.main,s=i.description,e.abrupt("return",[d,s]);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",["No result found","Invalid City"]);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=function(e){var t=Object(a.useState)({weather:"",description:""}),n=Object(C.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){H(e).then((function(e){var t=Object(C.a)(e,2),n=t[0],a=t[1];r({weather:n,description:a})}))}),[e]),c}(e.city),n=t.weather,c=t.description;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("b",{children:"Weather"}),":",n," - ",c]})},U=function(e){var t=e.reminderId,n=e.hour,c=e.text,r=e.city,i=e.date,d=Object(s.b)(),l=Object(s.c)((function(e){return e.calendar})),o=Object(a.useState)(!1),j=Object(C.a)(o,2),u=j[0],b=j[1],h=M({new_hour:n,new_text:c,new_city:r,new_date:i}),O=Object(C.a)(h,2),m=O[0],p=O[1];Object(a.useEffect)((function(){localStorage.setItem("calendar",JSON.stringify(l))}),[l]);var x=m.new_hour,f=m.new_text,_=m.new_city,v=m.new_date,g=function(e){e.preventDefault(),v!==i?(d(J(t,i)),d(F(t,x,f,_,v))):d(function(e,t,n,a,c){return{type:y,payload:{reminderId:e,hour:t,text:n,city:a,date:c}}}(t,x,f,_,i)),b(!u)};return Object(D.jsx)("div",{style:{position:"relative"},children:Object(D.jsx)("div",{className:"reminder__body animate__animated animate__bounceIn",children:u?Object(D.jsxs)("form",{onSubmit:g,children:[Object(D.jsx)("b",{children:"Change Date:"}),Object(D.jsx)("br",{}),Object(D.jsx)("input",{name:"new_date",type:"date",value:v,onChange:p,className:"reminder__input"}),Object(D.jsx)("b",{children:"Change Hour:"}),Object(D.jsx)("input",{name:"new_hour",type:"time",value:x,onChange:p,className:"reminder__input-hour"}),Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:"Text:"}),Object(D.jsx)("input",{name:"new_text",type:"text",value:f,onChange:p,className:"reminder__input",maxLength:30}),Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:"City:"}),Object(D.jsx)("input",{name:"new_city",type:"text",value:_,onChange:p,className:"reminder__input"}),Object(D.jsx)("button",{type:"submit",onClick:g,className:"btn",children:Object(D.jsx)("span",{className:"material-icons pointer icon",children:"check"})}),Object(D.jsx)("span",{className:"material-icons pointer icon",onClick:function(){return b(!u)},children:"cancel"})]}):Object(D.jsxs)("div",{children:[Object(D.jsx)("b",{children:n}),": ",c,Object(D.jsx)("br",{}),Object(D.jsx)("b",{children:"City"}),": ",r,Object(D.jsx)("br",{}),Object(D.jsx)(P,{city:r}),Object(D.jsx)("br",{}),Object(D.jsx)("span",{className:"material-icons pointer icon",onClick:function(){return b(!u)},children:"edit"}),Object(D.jsx)("span",{className:"material-icons pointer icon",onClick:function(){d(J(t,i))},children:"delete"})]})},t)})},W=function(e){var t=e.day,n=e.date,a=Object(s.c)((function(e){return e.calendar}));return Object(D.jsx)("li",{children:Object(D.jsxs)("div",{className:"calendar__day",children:[Object(D.jsx)("div",{className:"calendar__active-day",children:t}),void 0!==a[n]&&a[n].map((function(e){return Object(D.jsx)(U,Object(m.a)({date:n},e),e.reminderId)}))]})})},G=n(64),Y=n.n(G),z=function(){var e=Object(s.b)(),t=M({hour:"",text:"",city:"",date:""}),n=Object(C.a)(t,3),a=n[0],c=n[1],r=n[2],i=a.hour,d=a.text,l=a.city,o=a.date;return Object(D.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=Y()().format("x");e(F(n,i,d,l,o)),r()},className:"calendar__form",children:[Object(D.jsx)("input",{name:"hour",type:"time",onChange:c,value:i,className:"calendar__input-hour",required:!0}),Object(D.jsx)("input",{name:"text",type:"text",onChange:c,placeholder:"Reminder",value:d,maxLength:30,className:"calendar__input",required:!0}),Object(D.jsx)("input",{name:"city",type:"text",onChange:c,placeholder:"City",value:l,className:"calendar__input",required:!0}),Object(D.jsx)("input",{name:"date",type:"date",onChange:c,value:o,className:"calendar__input",required:!0}),Object(D.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add reminder"})]})},K=[{path:"/",component:R,exact:!0},{path:"/calendar",component:function(){return Object(D.jsxs)("div",{className:"calendar__body",children:[Object(D.jsx)("h1",{children:"Calendar"}),Object(D.jsx)(z,{}),Object(D.jsx)("div",{className:"calendar__month_year",children:"DEC - 2021"}),Object(D.jsx)("div",{className:"calendar__main-content",children:Object(D.jsxs)("ol",{children:[T.map((function(e){return Object(D.jsx)("li",{className:"calendar__week-days",children:e},e)})),Object(D.jsx)("li",{className:"calendar__day calendar__inactive-day",children:"29"}),Object(D.jsx)("li",{className:"calendar__day calendar__inactive-day",children:"30"}),L.map((function(e){return Object(D.jsx)(W,{day:e,date:"2021-12-".concat(e)},"".concat(e))})),Object(D.jsx)("li",{className:"calendar__day calendar__inactive-day",children:"1"}),Object(D.jsx)("li",{className:"calendar__day calendar__inactive-day",children:"2"})]})})]})},exact:!0}];var Q,V=Object(N.f)((function(){return Object(D.jsx)("div",{className:"main",children:Object(g.a)(K)})})),X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(159);i.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(s.a,{store:(Q=v,Object(l.e)(Q,j,b)),children:Object(D.jsx)(d.a,{children:Object(D.jsx)(V,{})})})}),document.getElementById("root")),X()}},[[160,1,2]]]);
//# sourceMappingURL=main.bfe72335.chunk.js.map